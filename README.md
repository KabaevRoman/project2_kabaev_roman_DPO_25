# Primitive DB# Primitive DB



Простая база данных с интерактивным интерфейсом командной строки.Простая база данных с интерактивным интерфейсом командной строки.



## Установка## Установка



```bash```bash

poetry installpoetry install

``````



## Запуск## Запуск



```bash```bash

poetry run projectpoetry run project

# или```

poetry run database

```## Управление таблицами



## Управление таблицами### Доступные команды



### Доступные команды- **`create_table <имя_таблицы> <столбец1:тип> <столбец2:тип> ...`** - создать новую таблицу

  - Автоматически добавляется столбец `ID:int`

- **`create_table <имя_таблицы> <столбец1:тип> <столбец2:тип> ...`** - создать новую таблицу  - Поддерживаемые типы данных определены в системе

  - Автоматически добавляется столбец `ID:int`- **`drop_table <имя_таблицы>`** - удалить таблицу

  - Поддерживаемые типы данных: `int`, `str`, `bool`

- **`drop_table <имя_таблицы>`** - удалить таблицу- **`help`** - показать справочную информацию

- **`list_tables`** - показать список всех таблиц

- **`help`** - показать справочную информацию- **`exit`** - выход из программы

- **`exit`** - выход из программы

### Пример использования

### Пример использования

[Видео](https://asciinema.org/a/p38zw2LcXToYESsJJrGpUkRgN)

[Видео](https://asciinema.org/a/p38zw2LcXToYESsJJrGpUkRgN)

## CRUD-операции

После создания таблицы вы можете выполнять операции с данными:

### INSERT - Вставка записей

Добавляет новую запись в таблицу. ID генерируется автоматически.

**Синтаксис:**
```
insert <имя_таблицы> <значение1> <значение2> ...
```

**Примеры:**
```bash
# Создадим таблицу пользователей
create_table users name:str age:int active:bool

# Вставим записи
insert users "John Doe" 28 true
insert users "Jane Smith" 25 false
insert users "Bob Johnson" 30 true
```

**Важно:** Строковые значения должны быть в кавычках ("John" или 'John')

### SELECT - Выборка записей

Получает записи из таблицы. Можно использовать условие WHERE для фильтрации.

**Синтаксис:**
```
select <имя_таблицы> [where <условие>]
```

**Примеры:**
```bash
# Выбрать все записи
select users

# Выбрать пользователей с возрастом 28
select users where age = 28

# Выбрать активных пользователей
select users where active = true

# Комбинированные условия (через AND)
select users where age = 28 AND active = true
```

### UPDATE - Обновление записей

Обновляет значения полей в записях, соответствующих условию WHERE.

**Синтаксис:**
```
update <имя_таблицы> set <поле1> = <значение1>, <поле2> = <значение2> [where <условие>]
```

**Примеры:**
```bash
# Обновить возраст пользователя по имени
update users set age = 29 where name = "John Doe"

# Обновить несколько полей
update users set age = 26, active = true where name = "Jane Smith"

# Деактивировать всех пользователей старше 29 лет
update users set active = false where age = 30
```

### DELETE - Удаление записей

Удаляет записи, соответствующие условию WHERE.

**Синтаксис:**
```
delete <имя_таблицы> [where <условие>]
```

**Примеры:**
```bash
# Удалить пользователя по имени
delete users where name = "Bob Johnson"

# Удалить неактивных пользователей
delete users where active = false

# Удалить пользователей старше 30 лет
delete users where age = 30
```

**Предупреждение:** Если не указать условие WHERE, будут удалены ВСЕ записи из таблицы!

## Полный пример работы

```bash
# Запускаем базу данных
poetry run database

# Создаем таблицу
create_table users name:str age:int active:bool

# Вставляем данные
insert users "Alice" 25 true
insert users "Bob" 30 false
insert users "Charlie" 28 true

# Смотрим все записи
select users

# Фильтруем по возрасту
select users where age = 28

# Обновляем данные
update users set active = true where name = "Bob"

# Проверяем результат
select users where name = "Bob"

# Удаляем запись
delete users where age = 25

# Проверяем, что осталось
select users

# Выходим
exit
```

## Видео-демонстрация CRUD операций

[Видео будет добавлено после тестирования]

## Сборка и публикация пакета

```bash
# Установка зависимостей
poetry install

# Сборка пакета
poetry build

# Установка пакета локально
pip install dist/project2_kabaev_roman_dpo_25-0.1.0-py3-none-any.whl

# Теперь команда database доступна глобально
database
```

## Типы данных

- **`int`** - целые числа (например: 42, -10, 0)
- **`str`** - строки в кавычках (например: "John", 'Hello World')
- **`bool`** - булевы значения (true или false)

## Особенности

- ID генерируется автоматически при вставке записи
- Все данные хранятся в JSON файлах
- Метаданные таблиц хранятся в `metadata.json`
- Данные каждой таблицы хранятся в отдельном файле `<имя_таблицы>.json`
- Поддержка валидации типов данных при вставке
- Красивый вывод таблиц с использованием prettytable
